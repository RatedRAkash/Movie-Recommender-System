<!DOCTYPE html>
{% load static %}

<html lang="en">
    <link href="{% static 'css/main.css' %}" rel="stylesheet">
<!--    <script src="{% static 'js/main.js' %}"></script>-->
<header class="container-fluid">

    <div class="container text-center" id="searchBox">
        <h1>Movie Recommender</h1>
        <div class="form col-xs-12">
<!--            <input class="col-xs-9" id="searchBar" type="text" placeholder="search"/>-->

            <form action="#" method="GET">
                <input type="text" id="search" name="search" placeholder="Search movies...">
                <select id="movie-options" size="6">
                    {% for key, movie_name in movies.items %}
                        <option value="{{ movie_name }}">{{ movie_name }}</option>
                    {% endfor %}
                </select>
                <button type="submit">Search</button>
            </form>
<!--            <span class="glyphicon glyphicon-search col-xs-1" data-toggle="tooltip" title="Search"></span>-->
<!--            <span class="glyphicon bar col-xs-1" id="submit"><b>|</b></span>-->
<!--            <a href="https://en.wikipedia.org/wiki/Special:Random" target="_blank"><span-->
<!--                    class="glyphicon glyphicon-random col-xs-1" data-toggle="tooltip" title="Random topic"></span></a>-->
        </div>

        <script>
            document.getElementById('search').addEventListener('input', function() {
            var input = this.value.toLowerCase();
            var options = document.getElementById('movie-options').options;
            for (var i = 0; i < options.length; i++) {
                if (options[i].value.toLowerCase().indexOf(input) !== -1) {
                    options[i].style.display = '';
                } else {
                    options[i].style.display = 'none';
                }
            }
        });

        function displaySelectedOption() {
  var select = document.getElementById('movie-select');
  var selectedOption = select.options[select.selectedIndex].text;
  select.style.display = 'none';
  var selectedText = document.createElement('span');
  selectedText.textContent = selectedOption;
  selectedText.classList.add('selected-option');
  select.parentNode.insertBefore(selectedText, select);
}

        </script>

    </div>
</header>
<div id="mainBody" class="container text-center">
    <ul id="results">
    </ul>
</div>
<footer class="text-center">

</footer>
</html>